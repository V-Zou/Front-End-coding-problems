<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 

    JavaScript中有Map，我们可以用任何data做key，即便是DOM元素。

    const map = new Map()
    map.set(domNode, somedata)
    如果运行的JavaScript不支持Map，我们如何能让上述代码能够工作？

    请在不利用Map的条件下实现一个Node Store，支持DOM element作为key。

    class NodeStore {

      set(node, value) {

      }
      
      get(node) {

      }
      
      has(node) {

      }
    }
    你可以实现一个通用的Map polyfill。或者利用以下DOM元素的特性来做文章？
   -->
  <script>
    class NodeStore {

      constructor() {
        this.nodes = {};
      }

      /**
       * @param {Node} node
       * @param {any} value
       */
      set(node, value) {
        this.nodes[node] = value;
      }
      /**
       * @param {Node} node
       * @return {any}
       */
      get(node) {
        return this.nodes[node];
      }

      /**
       * @param {Node} node
       * @return {Boolean}
       */
      has(node) {
        return node in this.nodes;
      }
    }
  </script>
</body>
</html>