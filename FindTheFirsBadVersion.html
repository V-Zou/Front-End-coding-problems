<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 
    一个程序有多个版本，不知道什么时候开始有个bug混在其中。请你找到第一个坏掉的版本。
    特定版本是否有bug，可以用isBad(revision)进行判定。

    注意

    传入的都是非负整数
    如果没有找到，返回-1
   -->
  <script>
    function firstBadVersion(isBad) {
      // firstBadVersion receive a check function isBad
      // and should return a closure which accepts a version number(integer)
      return (version) => {
        // write your code to return the first bad version
        // if none found, return -1
        let start = 0;
        let end = version;
        while(start <= end) {
          let mid = Math.floor((end + start) / 2);
          if(isBad(mid)) {
            end = mid - 1;
          }else {
            start = mid + 1;
          }
        }
        return start <= version ? start : -1; 
      }
    }
  </script>
</body>
</html>